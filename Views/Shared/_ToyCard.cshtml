@model lily.Models.Toy

<div class="group">
    <div class="bg-white rounded-2xl shadow-lg overflow-hidden transform transition-all duration-300 hover:scale-105 hover:shadow-2xl">
        @{
            var imageUrl = Model.ImageUrl;
            if (!string.IsNullOrEmpty(imageUrl))
            {
                if (!imageUrl.StartsWith("/") && !imageUrl.StartsWith("http"))
                {
                    imageUrl = "/images/" + imageUrl;
                }
            }
        }
        
        <div class="relative overflow-hidden h-64">
            @if (!string.IsNullOrEmpty(imageUrl))
            {
                <img src="@imageUrl" 
                     alt="@Model.ToyName" 
                     class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110" 
                     onerror="this.src='/images/placeholder.png'; this.onerror=null;">
            }
            else
            {
                <div class="w-full h-full bg-gradient-to-br from-pink-100 to-purple-100 flex items-center justify-center">
                    <i class="fas fa-image text-6xl text-gray-300"></i>
                </div>
            }
            
            @if (Model.Stock > 0)
            {
                <span class="absolute top-4 right-4 bg-green-500 text-white px-3 py-1 rounded-full text-sm font-semibold shadow-lg">
                    <i class="fas fa-check-circle mr-1"></i> In Stock
                </span>
            }
            else
            {
                <span class="absolute top-4 right-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-semibold shadow-lg">
                    <i class="fas fa-times-circle mr-1"></i> Out of Stock
                </span>
            }
        </div>
        
        <div class="p-6">
            <div class="flex items-center justify-between mb-2">
                <h3 class="text-xl font-bold text-gray-800 truncate flex-1">@Model.ToyName</h3>
            </div>
            @if (!string.IsNullOrEmpty(Model.Category))
            {
                <div class="mb-3">
                    <a asp-controller="Toys" asp-action="Index" asp-route-category="@Model.Category"
                       class="inline-block px-3 py-1 bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 text-xs font-semibold rounded-full hover:from-purple-200 hover:to-pink-200 transition-all">
                        <i class="fas fa-tag mr-1"></i> @Model.Category
                    </a>
                </div>
            }
            <p class="text-gray-600 text-sm mb-4 line-clamp-2">@Model.Description</p>
            
            <div class="flex items-center justify-between mb-4">
                <div class="text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent">
                    $@Model.Price.ToString("F2")
                </div>
                @if (Model.Stock > 0)
                {
                    <div class="text-sm text-gray-500">
                        <i class="fas fa-boxes mr-1"></i> @Model.Stock units
                    </div>
                }
            </div>
            
            <a asp-controller="Toys" asp-action="Details" asp-route-id="@Model.ToyID" 
               class="block w-full text-center py-3 px-4 bg-gradient-to-r from-primary to-secondary text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1">
                <i class="fas fa-eye mr-2"></i> View Details
            </a>
        </div>
    </div>
</div>
