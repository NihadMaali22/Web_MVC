<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Maryam Toy Store</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF6B9D',
                        secondary: '#C44569',
                        accent: '#FFA07A',
                        dark: '#2C3E50',
                        light: '#F8F9FA'
                    }
                }
            }
        }
    </script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    
    <style>
        @@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Poppins', sans-serif;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-pink-50 to-purple-50 min-h-screen">
    <!-- Navbar -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20">
                <div class="flex items-center">
                    <a asp-controller="Home" asp-action="Index" class="flex items-center space-x-2">
                        <i class="fas fa-store text-4xl text-primary"></i>
                        <span class="text-2xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent">
                            Maryoma Toy Store
                        </span>
                    </a>
                </div>

                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center space-x-1">
                    <a asp-controller="Home" asp-action="Index" 
                       class="px-4 py-2 rounded-lg text-gray-700 hover:bg-primary hover:text-white transition-all duration-300 flex items-center space-x-2">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <div class="relative group">
                        <a asp-controller="Toys" asp-action="Index" 
                           class="px-4 py-2 rounded-lg text-gray-700 hover:bg-primary hover:text-white transition-all duration-300 flex items-center space-x-2">
                            <i class="fas fa-cubes"></i>
                            <span>Toys</span>
                            <i class="fas fa-chevron-down text-xs"></i>
                        </a>
                        <div class="absolute left-0 mt-2 w-56 bg-white rounded-xl shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300">
                            <div class="py-2">
                                <a asp-controller="Toys" asp-action="Index" 
                                   class="flex items-center space-x-3 px-4 py-3 hover:bg-gray-100 transition-colors">
                                    <i class="fas fa-th text-primary"></i>
                                    <span>All Toys</span>
                                </a>
                                <a asp-controller="Toys" asp-action="Index" asp-route-category="Action Figures" 
                                   class="flex items-center space-x-3 px-4 py-3 hover:bg-gray-100 transition-colors">
                                    <i class="fas fa-user-ninja text-primary"></i>
                                    <span>Action Figures</span>
                                </a>
                                <a asp-controller="Toys" asp-action="Index" asp-route-category="Dolls" 
                                   class="flex items-center space-x-3 px-4 py-3 hover:bg-gray-100 transition-colors">
                                    <i class="fas fa-female text-primary"></i>
                                    <span>Dolls</span>
                                </a>
                                <a asp-controller="Toys" asp-action="Index" asp-route-category="Educational" 
                                   class="flex items-center space-x-3 px-4 py-3 hover:bg-gray-100 transition-colors">
                                    <i class="fas fa-graduation-cap text-primary"></i>
                                    <span>Educational</span>
                                </a>
                                <a asp-controller="Toys" asp-action="Index" asp-route-category="Puzzles" 
                                   class="flex items-center space-x-3 px-4 py-3 hover:bg-gray-100 transition-colors">
                                    <i class="fas fa-puzzle-piece text-primary"></i>
                                    <span>Puzzles</span>
                                </a>
                                <a asp-controller="Toys" asp-action="Index" asp-route-category="Board Games" 
                                   class="flex items-center space-x-3 px-4 py-3 hover:bg-gray-100 transition-colors">
                                    <i class="fas fa-dice text-primary"></i>
                                    <span>Board Games</span>
                                </a>
                                <a asp-controller="Toys" asp-action="Index" asp-route-category="Building Blocks" 
                                   class="flex items-center space-x-3 px-4 py-3 hover:bg-gray-100 transition-colors">
                                    <i class="fas fa-cubes text-primary"></i>
                                    <span>Building Blocks</span>
                                </a>
                                <a asp-controller="Toys" asp-action="Index" asp-route-category="Remote Control" 
                                   class="flex items-center space-x-3 px-4 py-3 hover:bg-gray-100 transition-colors">
                                    <i class="fas fa-broadcast-tower text-primary"></i>
                                    <span>Remote Control</span>
                                </a>
                            </div>
                        </div>
                    </div>
                    <a asp-controller="Orders" asp-action="Index" 
                       class="px-4 py-2 rounded-lg text-gray-700 hover:bg-primary hover:text-white transition-all duration-300 flex items-center space-x-2">
                        <i class="fas fa-shopping-bag"></i>
                        <span>Orders</span>
                    </a>
                    <a asp-controller="Home" asp-action="About" 
                       class="px-4 py-2 rounded-lg text-gray-700 hover:bg-primary hover:text-white transition-all duration-300 flex items-center space-x-2">
                        <i class="fas fa-info-circle"></i>
                        <span>About</span>
                    </a>
                    <a asp-controller="Home" asp-action="Contact" 
                       class="px-4 py-2 rounded-lg text-gray-700 hover:bg-primary hover:text-white transition-all duration-300 flex items-center space-x-2">
                        <i class="fas fa-envelope"></i>
                        <span>Contact</span>
                    </a>
                </div>

                <!-- User Menu -->
                <div class="hidden md:flex items-center space-x-3">
                    @if (Context.Session.GetInt32("UserID") != null)
                    {
                        <div class="relative group">
                            <button class="flex items-center space-x-2 px-4 py-2 rounded-lg bg-gradient-to-r from-primary to-secondary text-white hover:shadow-lg transition-all duration-300">
                                <i class="fas fa-user-circle text-xl"></i>
                                <span class="font-medium">@Context.Session.GetString("Username")</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300">
                                <div class="py-2">
                                    <a asp-controller="Account" asp-action="Profile" 
                                       class="flex items-center space-x-3 px-4 py-3 hover:bg-gray-100 transition-colors">
                                        <i class="fas fa-user text-primary"></i>
                                        <span>My Profile</span>
                                    </a>
                                    <a asp-controller="Orders" asp-action="History" 
                                       class="flex items-center space-x-3 px-4 py-3 hover:bg-gray-100 transition-colors">
                                        <i class="fas fa-history text-primary"></i>
                                        <span>Order History</span>
                                    </a>
                                    @if (Context.Session.GetString("Role") == "Admin")
                                    {
                                        <hr class="my-2" />
                                        <a asp-controller="Home" asp-action="Dashboard" 
                                           class="flex items-center space-x-3 px-4 py-3 hover:bg-gray-100 transition-colors">
                                            <i class="fas fa-tachometer-alt text-secondary"></i>
                                            <span>Dashboard</span>
                                        </a>
                                        <a asp-controller="Toys" asp-action="Create" 
                                           class="flex items-center space-x-3 px-4 py-3 hover:bg-gray-100 transition-colors">
                                            <i class="fas fa-plus-circle text-secondary"></i>
                                            <span>Add Toy</span>
                                        </a>
                                        <a asp-controller="Account" asp-action="ManageUsers" 
                                           class="flex items-center space-x-3 px-4 py-3 hover:bg-gray-100 transition-colors">
                                            <i class="fas fa-users-cog text-secondary"></i>
                                            <span>Manage Users</span>
                                        </a>
                                    }
                                    <hr class="my-2" />
                                    <a asp-controller="Account" asp-action="Logout" 
                                       class="flex items-center space-x-3 px-4 py-3 hover:bg-red-50 text-red-600 transition-colors">
                                        <i class="fas fa-sign-out-alt"></i>
                                        <span>Logout</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    }
                    else
                    {
                        <a asp-controller="Account" asp-action="Login" 
                           class="px-6 py-2 rounded-lg border-2 border-primary text-primary hover:bg-primary hover:text-white transition-all duration-300 font-medium">
                            Login
                        </a>
                        <a asp-controller="Account" asp-action="Register" 
                           class="px-6 py-2 rounded-lg bg-gradient-to-r from-primary to-secondary text-white hover:shadow-lg transition-all duration-300 font-medium">
                            Register
                        </a>
                    }
                </div>

                <!-- Mobile menu button -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-button" class="text-gray-700 hover:text-primary focus:outline-none">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a asp-controller="Home" asp-action="Index" 
                   class="block px-3 py-2 rounded-md text-gray-700 hover:bg-primary hover:text-white transition-colors">
                    <i class="fas fa-home mr-2"></i> Home
                </a>
                <a asp-controller="Toys" asp-action="Index" 
                   class="block px-3 py-2 rounded-md text-gray-700 hover:bg-primary hover:text-white transition-colors">
                    <i class="fas fa-cubes mr-2"></i> Toys
                </a>
                <a asp-controller="Orders" asp-action="Index" 
                   class="block px-3 py-2 rounded-md text-gray-700 hover:bg-primary hover:text-white transition-colors">
                    <i class="fas fa-shopping-bag mr-2"></i> Orders
                </a>
                <a asp-controller="Home" asp-action="About" 
                   class="block px-3 py-2 rounded-md text-gray-700 hover:bg-primary hover:text-white transition-colors">
                    <i class="fas fa-info-circle mr-2"></i> About
                </a>
                <a asp-controller="Home" asp-action="Contact" 
                   class="block px-3 py-2 rounded-md text-gray-700 hover:bg-primary hover:text-white transition-colors">
                    <i class="fas fa-envelope mr-2"></i> Contact
                </a>
                
                @if (Context.Session.GetInt32("UserID") != null)
                {
                    <hr class="my-2" />
                    <div class="px-3 py-2 text-sm font-semibold text-gray-500">
                        @Context.Session.GetString("Username")
                    </div>
                    <a asp-controller="Account" asp-action="Profile" 
                       class="block px-3 py-2 rounded-md text-gray-700 hover:bg-primary hover:text-white transition-colors">
                        <i class="fas fa-user mr-2"></i> Profile
                    </a>
                    <a asp-controller="Orders" asp-action="History" 
                       class="block px-3 py-2 rounded-md text-gray-700 hover:bg-primary hover:text-white transition-colors">
                        <i class="fas fa-history mr-2"></i> Order History
                    </a>
                    @if (Context.Session.GetString("Role") == "Admin")
                    {
                        <a asp-controller="Home" asp-action="Dashboard" 
                           class="block px-3 py-2 rounded-md text-gray-700 hover:bg-secondary hover:text-white transition-colors">
                            <i class="fas fa-tachometer-alt mr-2"></i> Dashboard
                        </a>
                        <a asp-controller="Toys" asp-action="Create" 
                           class="block px-3 py-2 rounded-md text-gray-700 hover:bg-secondary hover:text-white transition-colors">
                            <i class="fas fa-plus-circle mr-2"></i> Add Toy
                        </a>
                    }
                    <a asp-controller="Account" asp-action="Logout" 
                       class="block px-3 py-2 rounded-md text-red-600 hover:bg-red-50 transition-colors">
                        <i class="fas fa-sign-out-alt mr-2"></i> Logout
                    </a>
                }
                else
                {
                    <hr class="my-2" />
                    <a asp-controller="Account" asp-action="Login" 
                       class="block px-3 py-2 rounded-md text-primary border-2 border-primary hover:bg-primary hover:text-white transition-colors text-center">
                        Login
                    </a>
                    <a asp-controller="Account" asp-action="Register" 
                       class="block px-3 py-2 rounded-md bg-gradient-to-r from-primary to-secondary text-white text-center">
                        Register
                    </a>
                }
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="min-h-screen">
        @RenderBody()
    </main>

    <!-- Footer -->
    <footer class="bg-gradient-to-r from-dark to-gray-800 text-white mt-20">
        <div class="max-w-7xl mx-auto px-4 py-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div class="col-span-1 md:col-span-2">
                    <div class="flex items-center space-x-2 mb-4">
                        <i class="fas fa-store text-3xl text-primary"></i>
                        <span class="text-2xl font-bold">Lily's Toy Store</span>
                    </div>
                    <p class="text-gray-400 mb-4">
                        Your one-stop shop for amazing toys! We bring joy to children and families with our carefully curated selection.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="w-10 h-10 bg-primary rounded-full flex items-center justify-center hover:bg-secondary transition-colors">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-primary rounded-full flex items-center justify-center hover:bg-secondary transition-colors">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-primary rounded-full flex items-center justify-center hover:bg-secondary transition-colors">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-primary rounded-full flex items-center justify-center hover:bg-secondary transition-colors">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a asp-controller="Home" asp-action="Index" class="text-gray-400 hover:text-primary transition-colors">Home</a></li>
                        <li><a asp-controller="Toys" asp-action="Index" class="text-gray-400 hover:text-primary transition-colors">Shop Toys</a></li>
                        <li><a asp-controller="Home" asp-action="About" class="text-gray-400 hover:text-primary transition-colors">About Us</a></li>
                        <li><a asp-controller="Home" asp-action="Contact" class="text-gray-400 hover:text-primary transition-colors">Contact</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">Contact Info</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li class="flex items-center space-x-2">
                            <i class="fas fa-phone text-primary"></i>
                            <span>1-800-TOY-LILY</span>
                        </li>
                        <li class="flex items-center space-x-2">
                            <i class="fas fa-envelope text-primary"></i>
                            <span>support@lilystoystore.com</span>
                        </li>
                        <li class="flex items-center space-x-2">
                            <i class="fas fa-map-marker-alt text-primary"></i>
                            <span>123 Toy Street, Play City</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <hr class="border-gray-700 my-8" />
            
            <div class="text-center text-gray-400">
                <p>&copy; 2025 Lily's Toy Store. All rights reserved. | <a asp-controller="Home" asp-action="Privacy" class="hover:text-primary transition-colors">Privacy Policy</a></p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu toggle
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        });
    </script>
    
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
